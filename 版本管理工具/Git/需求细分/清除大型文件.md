# 首先
从idx索引文件中查看提交信息，用sort进行从大到小排序，用tail过滤出前5个
```bash
git verify-pack -v .git/objects/pack/pack-*.idx | sort -k 3 -n | tail -5
```
然后根据筛出来的 SHA 值，使用`rev-list`查看提交的文件的路径
``` bash
git rev-list --objects --all | grep <SHA>
```
接下来，需要查看大文件的commit记录，以定位从哪个版本开始进行删除
``` bash
git log --pretty=oneline --branches -- <file_path>
```
最后的重要步骤，使用 `filter-branch` 进行删除
``` bash
git filter-branch -f --prune-empty --index-filter 'git rm -rf --cached --ignore-unmatch <file_path>' --tag-name-filter cat -- --all
```
